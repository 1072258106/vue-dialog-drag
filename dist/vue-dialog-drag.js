(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vueDialogDrag=e():t.vueDialogDrag=e()})(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=5)}([function(t,e,o){o(2);var i=o(3)(o(1),o(4),null,null);t.exports=i.exports},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"dialog-drag",props:["id","title","options"],data:function(){return{width:0,height:0,offset:{x:0,y:0},left:0,top:0,buttonClose:!0,buttonPin:!0,dragEnabled:!0,drag:!0,touch:null,overEvent:null}},created:function(){this.setOptions(this.options)},mounted:function(){this.width=this.$el.clientWidth,this.height=this.$el.clientHeight,window.addEventListener("dragover",this.dragOver)},beforeDestroy:function(){window.removeEventListener("dragover",this.dragOver)},watch:{options:function(t){this.setOptions(t)}},computed:{dialogStyle:function(){var t={left:this.left+"px",top:this.top+"px"};return this.width&&(t.width=this.width+"px"),this.height&&(t.height=this.height+"px"),t}},methods:{dragOver:function(t){this.overEvent=t,this.emit("move")},close:function(){this.emit("close",this.id)},setDrag:function(){this.dragEnabled&&(this.drag=!this.drag)},dragStart:function(t){this.drag&&this.dragEnabled&&(t.dataTransfer.setData("text",t.target.id),this.startMove(t))},dragEnd:function(t){this.move(t),this.emit("drag-end")},touchStart:function(t){this.startMove(t.targetTouches[0])},touchMove:function(t){this.move(t.targetTouches[0])},touchEnd:function(t){this.emit("dragEnd")},emit:function(t,e){e||(e={id:this.id,left:this.left,top:this.top,x:this.left,y:this.top}),this.$emit(t,e)},move:function(t){this.drag&&this.dragEnabled&&(0===t.clientX&&(t=this.overEvent),this.left=parseInt(t.clientX+this.offset.x),this.top=parseInt(t.clientY+this.offset.y),this.emit("move"))},startMove:function(t){var e=this.left-t.clientX,o=this.top-t.clientY;this.offset={x:e,y:o},this.emit("drag-start")},setOptions:function(t){if(t){t.x&&(t.left=t.x),t.y&&(t.top=t.y);var e=["left","top","width","height","buttonPin","buttonClose"],o=!0,i=!1,n=void 0;try{for(var s,r=e[Symbol.iterator]();!(o=(s=r.next()).done);o=!0){var a=s.value;this.options.hasOwnProperty(a)&&this.$set(this,a,this.options[a])}}catch(t){i=!0,n=t}finally{try{!o&&r.return&&r.return()}finally{if(i)throw n}}}}}}},function(t,e){},function(t,e){t.exports=function(t,e,o,i){var n,s=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(n=t,s=t.default);var a="function"==typeof s?s.options:s;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),o&&(a._scopeId=o),i){var c=a.computed||(a.computed={});Object.keys(i).forEach(function(t){var e=i[t];c[t]=function(){return e}})}return{esModule:n,exports:s,options:a}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"dialog-drag",class:t.drag?"":"fixed",style:t.dialogStyle,attrs:{id:t.id,draggable:t.drag},on:{dragstart:function(e){e.stopPropagation(),t.dragStart(e)},touchstart:function(e){e.preventDefault(),t.touchStart(e)},touchmove:function(e){e.stopPropagation(),t.touchMove(e)},touchend:function(e){e.stopPropagation(),t.touchEnd(e)},dragend:function(e){e.preventDefault(),t.dragEnd(e)}}},[o("div",{staticClass:"dialog-header",on:{dragstart:function(t){t.stopPropagation()}}},[o("div",{staticClass:"title"},[t._t("title",[t.title?o("span",[t._v(t._s(t.title))]):o("span",[t._v("Â ")])])],2),o("div",{staticClass:"buttons"},[t.buttonPin?o("button",{staticClass:"pin",attrs:{title:t.drag?"Disable drag":"Enable drag"},on:{click:t.setDrag,touchstart:t.setDrag}}):t._e(),t.buttonClose?o("button",{staticClass:"close",on:{click:t.close,touchstart:t.close}}):t._e()])]),o("div",{staticClass:"dialog-body",on:{dragstart:function(t){t.stopPropagation()}}},[t._t("default",[o("div",{staticClass:"blank-body"})])],2)])},staticRenderFns:[]}},function(t,e,o){t.exports=o(0)}])});
//# sourceMappingURL=vue-dialog-drag.js.map